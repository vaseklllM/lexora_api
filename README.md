# Lexora API

**Lexora** - —Ü–µ –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è –º–æ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–∞—Ä—Ç–æ—á–æ–∫ (flashcards). API –Ω–∞–¥–∞—î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –∫–∞—Ä—Ç–æ—á–æ–∫ —É –∫–æ–ª–æ–¥–∏ —Ç–∞ –ø–∞–ø–∫–∏, –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —Ä—ñ–∑–Ω–∏—Ö –º–æ–≤ —Ç–∞ AI-—Å–µ—Ä–≤—ñ—Å—ñ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö.

## –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

- üÉè **–ö–∞—Ä—Ç–æ—á–∫–∏ (Cards)** - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è —Å–ª—ñ–≤
- üìö **–ö–æ–ª–æ–¥–∏ (Decks)** - –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è –∫–∞—Ä—Ç–æ—á–æ–∫ —É —Ç–µ–º–∞—Ç–∏—á–Ω—ñ –≥—Ä—É–ø–∏
- üìÅ **–ü–∞–ø–∫–∏ (Folders)** - —ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –∫–æ–ª–æ–¥
- üåç **–ú–æ–≤–∏ (Languages)** - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –º–æ–≤ –≤–∏–≤—á–µ–Ω–Ω—è
- ü§ñ **AI –°–µ—Ä–≤—ñ—Å–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–∞—Ä—Ç–æ—á–æ–∫
- üîä **–û–∑–≤—É—á–∫–∞ (Text-to-Speech)** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∞—É–¥—ñ–æ –¥–ª—è –∫–∞—Ä—Ç–æ–∫ —á–µ—Ä–µ–∑ Google Cloud TTS
- üîê **OAuth (Google)** - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Google –∞–∫–∞—É–Ω—Ç
- üë§ **–ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è** - —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, –≤—Ö—ñ–¥, JWT —Ç–æ–∫–µ–Ω–∏
- üìä **–î–∞—à–±–æ—Ä–¥** - –≥–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –ø–µ—Ä–µ–≥–ª—è–¥–æ–º –ø–∞–ø–æ–∫ —Ç–∞ –∫–æ–ª–æ–¥ (–≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É –±—É–¥–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- üõ°Ô∏è **Rate Limiting** - –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∑–ª–æ–≤–∂–∏–≤–∞–Ω—å API

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –ø—Ä–æ–µ–∫—Ç—É

### Backend Framework

- **NestJS** - –ø—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–∏–π Node.js —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏—Ö —Ç–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤
- **TypeScript** - —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–∞ –Ω–∞–¥–º–Ω–æ–∂–∏–Ω–∞ JavaScript
- **Node.js** - —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è JavaScript

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —Ç–∞ ORM

- **PostgreSQL 16** - —Ä–µ–ª—è—Ü—ñ–π–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Prisma** - —Å—É—á–∞—Å–Ω–∏–π ORM –¥–ª—è TypeScript/JavaScript
- **Redis 7** - in-memory –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ —Å–µ—Å—ñ–π

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

- **Passport.js** - middleware –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- **JWT (JSON Web Tokens)** - –¥–ª—è —Ç–æ–∫–µ–Ω—ñ–≤ –¥–æ—Å—Ç—É–ø—É
- **Argon2** - –¥–ª—è —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤
- **Local Strategy** - –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ª–æ–≥—ñ–Ω/–ø–∞—Ä–æ–ª—å
- **JWT Strategy** - –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ JWT —Ç–æ–∫–µ–Ω—ñ–≤

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **Class Validator** - –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö
- **Swagger** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

### DevOps —Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è

- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è –¥–æ–¥–∞—Ç–∫—É
- **Docker Compose** - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
- **pgAdmin** - –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è PostgreSQL

### –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ä–æ–∑—Ä–æ–±–∫–∏

- **ESLint** - –ª—ñ–Ω—Ç–µ—Ä –¥–ª—è JavaScript/TypeScript
- **Prettier** - —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É
- **Jest** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- **Husky** - Git hooks –¥–ª—è pre-commit –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫
- **lint-staged** - –∑–∞–ø—É—Å–∫ –ª—ñ–Ω—Ç–µ—Ä—ñ–≤ –Ω–∞ staged —Ñ–∞–π–ª–∞—Ö

### –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è

- **Throttler** - –æ–±–º–µ–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∑–∞–ø–∏—Ç—ñ–≤ (rate limiting)
- **Custom Guards** - –∫–∞—Å—Ç–æ–º–Ω—ñ –æ—Ö–æ—Ä–æ–Ω—Ü—ñ –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –∑–∞—Ö–∏—Å—Ç—É

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏

- **UUID** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä—ñ–≤
- **IORedis** - –∫–ª—ñ—î–Ω—Ç –¥–ª—è Redis
- **Reflect Metadata** - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö –¥–ª—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤

## –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example`:

- `GOOGLE_API` ‚Äî API –∫–ª—é—á Google Cloud Project –∑ —É–≤—ñ–º–∫–Ω–µ–Ω–∏–º Text-to-Speech API (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Å–∏–Ω—Ç–µ–∑—É —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –≥–æ–ª–æ—Å—ñ–≤)
- `GOOGLE_CLIENT_ID` ‚Äî OAuth 2.0 Client ID –∑ Google Cloud Console (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ Google ID Token —É `/auth/google`)

## –û–∑–≤—É—á–∫–∞ –∫–∞—Ä—Ç–æ–∫ (Google Cloud Text-to-Speech)

- –ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∞–±–æ –∑–º—ñ–Ω—ñ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–µ—Ä–≤—ñ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î –æ–∑–≤—É—á–∫—É –º–æ–≤–æ—é, —è–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–≤—á–∞—î. –î–ª—è –∫–æ–∂–Ω–æ—ó –º–æ–≤–∏ –º–æ–∂—É—Ç—å —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏—Å—è –∂—ñ–Ω–æ—á–∏–π —Ç–∞ —á–æ–ª–æ–≤—ñ—á–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –æ–∑–≤—É—á–∫–∏.
- –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏ –∫–µ—à—É—é—Ç—å—Å—è —ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É `public/tts` –∑ —Ö–µ—à–æ–≤–∞–Ω–æ—é –Ω–∞–∑–≤–æ—é, —Ç–æ–º—É –ø–æ–≤—Ç–æ—Ä–Ω–∏–π —Å–∏–Ω—Ç–µ–∑ –¥–ª—è –æ–¥–Ω–∞–∫–æ–≤–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è.
- –ü–µ—Ä–µ–¥ –∑–∞–ø–∏—Å–æ–º –Ω–æ–≤–æ–≥–æ –∞—É–¥—ñ–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ —Ñ–∞–π–ª–∏ –±–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è.

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≥–æ–ª–æ—Å—ñ–≤

1. –û—Ç—Ä–∏–º–∞–π—Ç–µ API –∫–ª—é—á —É Google Cloud Console —Ç–∞ –¥–æ–¥–∞–π—Ç–µ –π–æ–≥–æ –≤ –∑–º—ñ–Ω–Ω—É `GOOGLE_API`.
2. –í–∏–∫–æ–Ω–∞–π—Ç–µ `npm run seed` ‚Äî —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—è–≥–Ω–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –≥–æ–ª–æ—Å–∏ –∑ Google Cloud.

## –í—Ö—ñ–¥ —á–µ—Ä–µ–∑ Google (OAuth 2.0)

- –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∞ —á–∞—Å—Ç–∏–Ω–∞ –æ—Ç—Ä–∏–º—É—î ID Token —á–µ—Ä–µ–∑ Google Sign-In —Ç–∞ –ø–µ—Ä–µ–¥–∞—î –π–æ–≥–æ –≤ `POST /auth/google` —Ä–∞–∑–æ–º —ñ–∑ `accountId`.
- –°–µ—Ä–≤—ñ—Å –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ç–æ–∫–µ–Ω –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º `GOOGLE_CLIENT_ID`, —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (—è–∫—â–æ email —â–µ –Ω–µ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π) –∞–±–æ –ø—Ä–∏–≤‚Äô—è–∑—É—î Google-–∞–∫–∞—É–Ω—Ç –¥–æ —ñ—Å–Ω—É—é—á–æ–≥–æ –∑–∞–ø–∏—Å—É.
- –£ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è JWT —Ç–æ–∫–µ–Ω–∏ —Ç–∞ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —è–∫ —ñ –ø—ñ–¥ —á–∞—Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤—Ö–æ–¥—É.

## Compile and run the project

```bash
# development
$ npm install
$ docker compose up -d
$ npx prisma generate
$ npx prisma migrate dev --name init
$ npm run seed  # –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –ø–æ—á–∞—Ç–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö (–º–æ–≤–∏)
$ npm run dev
```

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Å–∫—Ä–∏–ø—Ç–∏

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—ñ–≤ –±–µ–∑ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó
$ npm run type-check

# –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É
$ npm run format

# –õ—ñ–Ω—Ç–∏–Ω–≥
$ npm run lint

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
$ npm run test
$ npm run test:watch
$ npm run test:cov

# –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –ë–î –ø–æ—á–∞—Ç–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
$ npm run seed
```

## –î–æ—Å—Ç—É–ø–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏

- **API —Å–µ—Ä–≤–µ—Ä**: http://localhost:4000/api
- **API —Å–µ—Ä–≤–µ—Ä JSON**: http://localhost:4000/api-json
- **API —Å–µ—Ä–≤–µ—Ä YAML**: http://localhost:4000/api-yaml
- **PostgreSQL**: localhost:5433
- **pgAdmin**: http://localhost:5050 (admin@lexora.com / admin123)
- **Redis**: localhost:6379
