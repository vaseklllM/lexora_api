# Lexora API

**Lexora** - —Ü–µ –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è –º–æ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–∞—Ä—Ç–æ—á–æ–∫ (flashcards). API –Ω–∞–¥–∞—î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –∫–∞—Ä—Ç–æ—á–æ–∫ —É –∫–æ–ª–æ–¥–∏ —Ç–∞ –ø–∞–ø–∫–∏, –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —Ä—ñ–∑–Ω–∏—Ö –º–æ–≤ —Ç–∞ AI-—Å–µ—Ä–≤—ñ—Å—ñ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö.

## –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

- üÉè **–ö–∞—Ä—Ç–æ—á–∫–∏ (Cards)** - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è —Å–ª—ñ–≤
- üìö **–ö–æ–ª–æ–¥–∏ (Decks)** - –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è –∫–∞—Ä—Ç–æ—á–æ–∫ —É —Ç–µ–º–∞—Ç–∏—á–Ω—ñ –≥—Ä—É–ø–∏
- üìÅ **–ü–∞–ø–∫–∏ (Folders)** - —ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –∫–æ–ª–æ–¥
- üåç **–ú–æ–≤–∏ (Languages)** - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –º–æ–≤ –≤–∏–≤—á–µ–Ω–Ω—è –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º —Å–ø–∏—Å–∫—É –º–æ–≤
- ü§ñ **AI –°–µ—Ä–≤—ñ—Å–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–∞—Ä—Ç–æ—á–æ–∫ —á–µ—Ä–µ–∑ Google Vertex AI (Gemini)
- üîä **–û–∑–≤—É—á–∫–∞ (Text-to-Speech)** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∞—É–¥—ñ–æ –¥–ª—è –∫–∞—Ä—Ç–æ–∫ —á–µ—Ä–µ–∑ Google Cloud TTS
- üîê **OAuth (Google)** - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Google –∞–∫–∞—É–Ω—Ç
- üë§ **–ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è** - —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, –≤—Ö—ñ–¥, JWT —Ç–æ–∫–µ–Ω–∏, refresh —Ç–æ–∫–µ–Ω–∏
- üìä **–î–∞—à–±–æ—Ä–¥** - –≥–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –ø–µ—Ä–µ–≥–ª—è–¥–æ–º –ø–∞–ø–æ–∫ —Ç–∞ –∫–æ–ª–æ–¥ (–≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É –±—É–¥–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- üéì **–°–∏—Å—Ç–µ–º–∞ –Ω–∞–≤—á–∞–Ω–Ω—è** - —Å–µ—Å—ñ—ó –≤–∏–≤—á–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–∞—Ä—Ç–æ–∫ —Ç–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —Ä—ñ–∑–Ω–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π (pair_it, guess_it, recall_it, type_it)
- üìà **Tracking –ø—Ä–æ–≥—Ä–µ—Å—É** - —Å–∏—Å—Ç–µ–º–∞ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞ (mastery score 0-100), CEFR —Ä—ñ–≤–Ω—ñ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ
- ‚öôÔ∏è **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** - –∑–º—ñ–Ω–∞ –º–æ–≤–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- üõ°Ô∏è **Rate Limiting** - –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∑–ª–æ–≤–∂–∏–≤–∞–Ω—å API (20 –∑–∞–ø–∏—Ç—ñ–≤/—Å–µ–∫, 100 –∑–∞–ø–∏—Ç—ñ–≤/—Ö–≤)

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –ø—Ä–æ–µ–∫—Ç—É

### Backend Framework

- **NestJS** - –ø—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–∏–π Node.js —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏—Ö —Ç–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤
- **TypeScript** - —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–∞ –Ω–∞–¥–º–Ω–æ–∂–∏–Ω–∞ JavaScript
- **Node.js 20** - —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è JavaScript

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —Ç–∞ ORM

- **PostgreSQL 16** - —Ä–µ–ª—è—Ü—ñ–π–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Prisma** - —Å—É—á–∞—Å–Ω–∏–π ORM –¥–ª—è TypeScript/JavaScript
- **Redis 7** - in-memory –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ —Å–µ—Å—ñ–π
- **Cache Manager** - —Å–∏—Å—Ç–µ–º–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é TTL –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ API

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

- **Passport.js** - middleware –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- **JWT (JSON Web Tokens)** - –¥–ª—è —Ç–æ–∫–µ–Ω—ñ–≤ –¥–æ—Å—Ç—É–ø—É
- **Argon2** - –¥–ª—è —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤
- **Local Strategy** - –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ª–æ–≥—ñ–Ω/–ø–∞—Ä–æ–ª—å
- **JWT Strategy** - –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ JWT —Ç–æ–∫–µ–Ω—ñ–≤

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **Class Validator** - –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- **Class Transformer** - –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó —Ç–∞ —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö
- **Swagger** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é Bearer —Ç–æ–∫–µ–Ω—ñ–≤

### DevOps —Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è

- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è –¥–æ–¥–∞—Ç–∫—É
- **Docker Compose** - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
- **pgAdmin** - –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è PostgreSQL

### –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ä–æ–∑—Ä–æ–±–∫–∏

- **ESLint** - –ª—ñ–Ω—Ç–µ—Ä –¥–ª—è JavaScript/TypeScript
- **Prettier** - —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É
- **Jest** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- **Husky** - Git hooks –¥–ª—è pre-commit –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫
- **lint-staged** - –∑–∞–ø—É—Å–∫ –ª—ñ–Ω—Ç–µ—Ä—ñ–≤ –Ω–∞ staged —Ñ–∞–π–ª–∞—Ö
- **Morgan** - HTTP request logger –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ —É development —Ä–µ–∂–∏–º—ñ

### –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è

- **Throttler** - –æ–±–º–µ–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∑–∞–ø–∏—Ç—ñ–≤ (rate limiting)
- **Custom Guards** - –∫–∞—Å—Ç–æ–º–Ω—ñ –æ—Ö–æ—Ä–æ–Ω—Ü—ñ –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –∑–∞—Ö–∏—Å—Ç—É

### AI —Ç–∞ –º–∞—à–∏–Ω–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è

- **Google Vertex AI** - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ AI –º–æ–¥–µ–ª—è–º–∏
- **Gemini 2.5** - –º–æ–¥–µ–ª—å —à—Ç—É—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∫–æ–Ω—Ç–µ–Ω—Ç—É –∫–∞—Ä—Ç–æ—á–æ–∫
- **Structured Generation** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏—Ö JSON –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏

- **UUID** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä—ñ–≤
- **IORedis** - –∫–ª—ñ—î–Ω—Ç –¥–ª—è Redis
- **Reflect Metadata** - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö –¥–ª—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤
- **Google Auth Library** - –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –¥–ª—è –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó Google OAuth —Ç–æ–∫–µ–Ω—ñ–≤
- **Express Static** - —Å–µ—Ä–≤—ñ–Ω–≥ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ –∑ –ø–∞–ø–∫–∏ `/public` (–∞—É–¥—ñ–æ —Ñ–∞–π–ª–∏ –æ–∑–≤—É—á–∫–∏)

## –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ –∑–º—ñ–Ω–Ω–∏–º–∏:

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —Ç–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è

- `DATABASE_URL` ‚Äî URL –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `postgresql://admin:1234@localhost:5433/lexora`)
- `REDIS_HOST` ‚Äî —Ö–æ—Å—Ç Redis —Å–µ—Ä–≤–µ—Ä–∞ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `localhost`)
- `REDIS_PORT` ‚Äî –ø–æ—Ä—Ç Redis —Å–µ—Ä–≤–µ—Ä–∞ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `6379`)

### –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

- `JWT_SECRET` ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á –¥–ª—è –ø—ñ–¥–ø–∏—Å—É JWT access —Ç–æ–∫–µ–Ω—ñ–≤
- `JWT_REFRESH_SECRET` ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á –¥–ª—è –ø—ñ–¥–ø–∏—Å—É JWT refresh —Ç–æ–∫–µ–Ω—ñ–≤
- `PASSWORD_SECRET` ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤ —Ä–∞–∑–æ–º –∑ Argon2

### Google Cloud —Å–µ—Ä–≤—ñ—Å–∏

- `GOOGLE_API` ‚Äî API –∫–ª—é—á Google Cloud Project –∑ —É–≤—ñ–º–∫–Ω–µ–Ω–∏–º Text-to-Speech API (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Å–∏–Ω—Ç–µ–∑—É —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –≥–æ–ª–æ—Å—ñ–≤)
- `GOOGLE_CLIENT_ID` ‚Äî OAuth 2.0 Client ID –∑ Google Cloud Console (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ Google ID Token —É `/auth/google`)
- `GOOGLE_VERTEX_AI_JSON_PATH` ‚Äî —à–ª—è—Ö –¥–æ JSON —Ñ–∞–π–ª—É –∑ –∫–ª—é—á–∞–º–∏ –¥–æ—Å—Ç—É–ø—É Google Vertex AI (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `./keys/lexora-vertex-ai.json`)
- `GOOGLE_VERTEX_AI_JSON_PATH_REGION` ‚Äî —Ä–µ–≥—ñ–æ–Ω Google Vertex AI (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `europe-west4`)

### –°–µ—Ä–≤–µ—Ä

- `PORT` ‚Äî –ø–æ—Ä—Ç –¥–ª—è –∑–∞–ø—É—Å–∫—É API —Å–µ—Ä–≤–µ—Ä–∞ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `4000`)

### –ü—Ä–∏–∫–ª–∞–¥ .env —Ñ–∞–π–ª—É

```env
# Database
DATABASE_URL="postgresql://admin:1234@localhost:5433/lexora"
REDIS_HOST=localhost
REDIS_PORT=6379

# Security
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
PASSWORD_SECRET=your-super-secret-password-key-change-in-production

# Google Cloud
GOOGLE_API=your-google-cloud-api-key
GOOGLE_CLIENT_ID=your-google-oauth-client-id
GOOGLE_VERTEX_AI_JSON_PATH=./keys/lexora-vertex-ai.json
GOOGLE_VERTEX_AI_JSON_PATH_REGION=europe-west4

# Server
PORT=4000
```

## –û–∑–≤—É—á–∫–∞ –∫–∞—Ä—Ç–æ–∫ (Google Cloud Text-to-Speech)

- –ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∞–±–æ –∑–º—ñ–Ω—ñ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–µ—Ä–≤—ñ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î –æ–∑–≤—É—á–∫—É –º–æ–≤–æ—é, —è–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–≤—á–∞—î. –î–ª—è –∫–æ–∂–Ω–æ—ó –º–æ–≤–∏ –º–æ–∂—É—Ç—å —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏—Å—è –∂—ñ–Ω–æ—á–∏–π —Ç–∞ —á–æ–ª–æ–≤—ñ—á–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –æ–∑–≤—É—á–∫–∏.
- –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏ –∫–µ—à—É—é—Ç—å—Å—è —ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É `public/tts` –∑ —Ö–µ—à–æ–≤–∞–Ω–æ—é –Ω–∞–∑–≤–æ—é, —Ç–æ–º—É –ø–æ–≤—Ç–æ—Ä–Ω–∏–π —Å–∏–Ω—Ç–µ–∑ –¥–ª—è –æ–¥–Ω–∞–∫–æ–≤–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è.
- –ü–µ—Ä–µ–¥ –∑–∞–ø–∏—Å–æ–º –Ω–æ–≤–æ–≥–æ –∞—É–¥—ñ–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ —Ñ–∞–π–ª–∏ –±–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è.

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≥–æ–ª–æ—Å—ñ–≤

1. –û—Ç—Ä–∏–º–∞–π—Ç–µ API –∫–ª—é—á —É Google Cloud Console —Ç–∞ –¥–æ–¥–∞–π—Ç–µ –π–æ–≥–æ –≤ –∑–º—ñ–Ω–Ω—É `GOOGLE_API`.
2. –í–∏–∫–æ–Ω–∞–π—Ç–µ `npm run seed` ‚Äî —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—è–≥–Ω–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –≥–æ–ª–æ—Å–∏ –∑ Google Cloud.

## AI –°–µ—Ä–≤—ñ—Å–∏ (Google Vertex AI)

- –°–µ—Ä–≤—ñ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ –¥–ª—è –∫–∞—Ä—Ç–æ—á–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –º–æ–¥–µ–ª—å Gemini 2.5
- AI –∞–Ω–∞–ª—ñ–∑—É—î —Ç–µ–∫—Å—Ç —É –º–æ–≤—ñ, —è–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–≤—á–∞—î, —Ç–∞ —Å—Ç–≤–æ—Ä—é—î –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é:
  - –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å–ª–æ–≤–∞ (–∫–æ—Ä–æ—Ç–∫–µ —Ç–∞ –¥–æ–≤–≥–µ)
  - –ß–∞—Å—Ç–∏–Ω–∞ –º–æ–≤–∏ (noun, verb, adjective —Ç–æ—â–æ)
  - –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
  - –°–∏–Ω–æ–Ω—ñ–º–∏ —Ç–∞ –∞–Ω—Ç–æ–Ω—ñ–º–∏
  - –ü–µ—Ä–µ–∫–ª–∞–¥–∏ –Ω–∞ —Ä—ñ–∑–Ω—ñ –º–æ–≤–∏
  - CEFR —Ä—ñ–≤–µ–Ω—å —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–æ–≥–æ JSON —Å—Ö–µ–º–∏ –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Vertex AI

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç —É Google Cloud Console —Ç–∞ —É–≤—ñ–º–∫–Ω—ñ—Ç—å Vertex AI API
2. –°—Ç–≤–æ—Ä—ñ—Ç—å Service Account —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ JSON –∫–ª—é—á —É –ø–∞–ø–∫—É `keys/`
3. –î–æ–¥–∞–π—Ç–µ —à–ª—è—Ö –¥–æ –∫–ª—é—á–∞ –≤ –∑–º—ñ–Ω–Ω—É `GOOGLE_VERTEX_AI_JSON_PATH`
4. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Ä–µ–≥—ñ–æ–Ω —É –∑–º—ñ–Ω–Ω—ñ–π `GOOGLE_VERTEX_AI_JSON_PATH_REGION` (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `europe-west4`)

## –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≤—á–∞–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫

### –ü—Ä–æ—Ü–µ—Å –Ω–∞–≤—á–∞–Ω–Ω—è

Lexora –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —ñ–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—É —Å–∏—Å—Ç–µ–º—É –ø–æ–≤—Ç–æ—Ä–µ–Ω—å –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–ø–∞–º'—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è:

1. **–ù–æ–≤—ñ –∫–∞—Ä—Ç–∫–∏** - –ø–æ–∑–Ω–∞—á–∞—é—Ç—å—Å—è —è–∫ `isNew: true`, –Ω–µ —Ä–æ–∑–ø–æ—á–∞—Ç–æ –Ω–∞–≤—á–∞–Ω–Ω—è
2. **–ö–∞—Ä—Ç–∫–∏ –≤ –ø—Ä–æ—Ü–µ—Å—ñ** - `isNew: false`, `masteryScore` –≤—ñ–¥ 0 –¥–æ 99
3. **–í–∏–≤—á–µ–Ω—ñ –∫–∞—Ä—Ç–∫–∏** - `masteryScore: 100`, –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞—Å–≤–æ—î–Ω—ñ

### –°–µ—Å—ñ—ó –Ω–∞–≤—á–∞–Ω–Ω—è

- **Learning Session** - –≤–∏–≤—á–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–∞—Ä—Ç–æ–∫ (GET `/deck/start-learning-session`)
- **Review Session** - –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è –≤–∏–≤—á–µ–Ω–∏—Ö –∫–∞—Ä—Ç–æ–∫ (GET `/deck/start-review-session`)
- –ö–∞—Ä—Ç–∫–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ **12 –≥–æ–¥–∏–Ω** –ø—ñ—Å–ª—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –ø–µ—Ä–µ–≥–ª—è–¥—É

### –°—Ç—Ä–∞—Ç–µ–≥—ñ—ó –Ω–∞–≤—á–∞–Ω–Ω—è

–ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è –∫–∞—Ä—Ç–∫–∏ (`PATCH /deck/finish-review-card`) –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó:

- `pair_it` - –ø—ñ–¥–±—ñ—Ä –ø–∞—Ä (—Å–ª–æ–≤–æ-–ø–µ—Ä–µ–∫–ª–∞–¥)
- `guess_it` - –≤–≥–∞–¥—É–≤–∞–Ω–Ω—è –∑–∞ –ø—ñ–¥–∫–∞–∑–∫–∞–º–∏
- `recall_it` - –≤—ñ–ª—å–Ω–µ –∑–≥–∞–¥—É–≤–∞–Ω–Ω—è
- `type_it` - –¥—Ä—É–∫—É–≤–∞–Ω–Ω—è —Å–ª–æ–≤–∞

### CEFR —Ä—ñ–≤–Ω—ñ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ

–ö–∞—Ä—Ç–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–ª–∞—Å–∏—Ñ—ñ–∫—É—é—Ç—å—Å—è –∑–∞ —Ä—ñ–≤–Ω—è–º–∏ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ –Ñ–≤—Ä–æ–ø–µ–π—Å—å–∫–æ—ó —à–∫–∞–ª–∏:

- `A1`, `A2` - –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å
- `B1`, `B2` - —Å–µ—Ä–µ–¥–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å
- `C1`, `C2` - –ø—Ä–æ—Å—É–Ω—É—Ç–∏–π —Ä—ñ–≤–µ–Ω—å

## –í—Ö—ñ–¥ —á–µ—Ä–µ–∑ Google (OAuth 2.0)

- –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∞ —á–∞—Å—Ç–∏–Ω–∞ –æ—Ç—Ä–∏–º—É—î ID Token —á–µ—Ä–µ–∑ Google Sign-In —Ç–∞ –ø–µ—Ä–µ–¥–∞—î –π–æ–≥–æ –≤ `POST /auth/google` —Ä–∞–∑–æ–º —ñ–∑ `accountId`.
- –°–µ—Ä–≤—ñ—Å –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ç–æ–∫–µ–Ω –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º `GOOGLE_CLIENT_ID`, —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (—è–∫—â–æ email —â–µ –Ω–µ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π) –∞–±–æ –ø—Ä–∏–≤'—è–∑—É—î Google-–∞–∫–∞—É–Ω—Ç –¥–æ —ñ—Å–Ω—É—é—á–æ–≥–æ –∑–∞–ø–∏—Å—É.
- –£ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è JWT —Ç–æ–∫–µ–Ω–∏ —Ç–∞ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —è–∫ —ñ –ø—ñ–¥ —á–∞—Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤—Ö–æ–¥—É.

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –±–µ–∑–ø–µ–∫–∞

### JWT —Ç–æ–∫–µ–Ω–∏

- **Access Token** - —Ç–µ—Ä–º—ñ–Ω –¥—ñ—ó: **3 –≥–æ–¥–∏–Ω–∏** (180 —Ö–≤–∏–ª–∏–Ω)
- **Refresh Token** - —Ç–µ—Ä–º—ñ–Ω –¥—ñ—ó: **7 –¥–Ω—ñ–≤**
- –¢–æ–∫–µ–Ω–∏ –ø—ñ–¥–ø–∏—Å—É—é—Ç—å—Å—è –æ–∫—Ä–µ–º–∏–º–∏ —Å–µ–∫—Ä–µ—Ç–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏ (`JWT_SECRET`, `JWT_REFRESH_SECRET`)
- –ü—Ä–∏ logout —Ç–æ–∫–µ–Ω –¥–æ–¥–∞—î—Ç—å—Å—è –¥–æ —á–æ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫—É –≤ Redis –¥–æ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—É –¥—ñ—ó

### –•–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **Argon2** - –æ–¥–Ω–∞ –∑ –Ω–∞–π–±–µ–∑–ø–µ—á–Ω—ñ—à–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π —Ö–µ—à—É–≤–∞–Ω–Ω—è
- –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á `PASSWORD_SECRET` –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏

## –ö–µ—à—É–≤–∞–Ω–Ω—è (Cache Manager)

- –°–∏—Å—Ç–µ–º–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ API
- –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –º–æ–≤ (`GET /languages/all`) –∫–µ—à—É—î—Ç—å—Å—è –Ω–∞ 24 –≥–æ–¥–∏–Ω–∏, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü—ñ –¥–∞–Ω—ñ —Ä—ñ–¥–∫–æ –∑–º—ñ–Ω—é—é—Ç—å—Å—è
- –ö–µ—à –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—á–∏—â—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è TTL –∞–±–æ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞
- –î–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (`GET /languages/my`) –∫–µ—à—É–≤–∞–Ω–Ω—è –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, —â–æ–± –∑–∞–≤–∂–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ
- Redis —Ç–∞–∫–æ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —á–æ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫—É JWT —Ç–æ–∫–µ–Ω—ñ–≤ –ø—ñ—Å–ª—è logout

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### –û—Å–Ω–æ–≤–Ω—ñ –º–æ–¥–µ–ª—ñ

- **User** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å–∏—Å—Ç–µ–º–∏
  - –ó–≤'—è–∑–æ–∫ –∑ –º–æ–≤–æ—é —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º (`languageCode`)
  - –ú–æ–∂–µ –º–∞—Ç–∏ –¥–µ–∫—ñ–ª—å–∫–∞ `Account` (credentials, Google OAuth)
- **Account** - –æ–±–ª—ñ–∫–æ–≤—ñ –∑–∞–ø–∏—Å–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
  - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤: `credentials` (email/password), `google` (OAuth)
  - –ó–±–µ—Ä—ñ–≥–∞—î `passwordHash` —Ç—ñ–ª—å–∫–∏ –¥–ª—è credentials —Ç–∏–ø—É

- **Language** - –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –º–æ–≤–∏
  - –ö–æ–¥ –º–æ–≤–∏ —è–∫ primary key (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `en-US`, `uk-UA`)
  - –ú–∞—Å–∏–≤–∏ –≥–æ–ª–æ—Å—ñ–≤ Google TTS –¥–ª—è —á–æ–ª–æ–≤—ñ—á–æ–≥–æ —Ç–∞ –∂—ñ–Ω–æ—á–æ–≥–æ –æ–∑–≤—É—á–µ–Ω–Ω—è

- **Folder** - –ø–∞–ø–∫–∏ –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –∫–æ–ª–æ–¥
  - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ (—Å–∞–º–æ–ø–æ—Å–∏–ª–∞–Ω–Ω—è —á–µ—Ä–µ–∑ `parentId`)
  - –ö–∞—Å–∫–∞–¥–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥–æ—á—ñ—Ä–Ω—ñ—Ö –ø–∞–ø–æ–∫ —Ç–∞ –∫–æ–ª–æ–¥

- **Deck** - –∫–æ–ª–æ–¥–∏ –∫–∞—Ä—Ç–æ–∫
  - –ó–≤'—è–∑–æ–∫ –∑ –¥–≤–æ–º–∞ –º–æ–≤–∞–º–∏: `languageWhatIKnow` —Ç–∞ `languageWhatILearn`
  - –ú–æ–∂—É—Ç—å –±—É—Ç–∏ –≤ –ø–∞–ø—Ü—ñ –∞–±–æ –Ω–∞ –∫–æ—Ä–Ω–µ–≤–æ–º—É —Ä—ñ–≤–Ω—ñ (`folderId` nullable)

- **Card** - –∫–∞—Ä—Ç–∫–∏ –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è
  - –¢–µ–∫—Å—Ç —Ç–∞ –æ–ø–∏—Å –Ω–∞ –æ–±–æ—Ö –º–æ–≤–∞—Ö
  - `masteryScore` (0-100) –¥–ª—è tracking –ø—Ä–æ–≥—Ä–µ—Å—É
  - `isNew` –¥–ª—è –≤—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ—á–∞—Ç–∫—É –Ω–∞–≤—á–∞–Ω–Ω—è
  - `lastReviewedAt` –¥–ª—è —ñ–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è
  - `soundUrls` - –º–∞—Å–∏–≤ URL –æ–∑–≤—É—á–∫–∏
  - `cefr` - —Ä—ñ–≤–µ–Ω—å —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ (A1-C2)

## API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è

### Swagger UI

- –î–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é: http://localhost:4000/api
- –ï–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç—ñ JSON: http://localhost:4000/api-json
- –ï–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç—ñ YAML: http://localhost:4000/api-yaml
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ Bearer —Ç–æ–∫–µ–Ω—ñ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ –≤—Å—ñ—Ö –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤)
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—É –≤ LocalStorage –±—Ä–∞—É–∑–µ—Ä–∞ (persistAuthorization)

### –§–æ—Ä–º–∞—Ç –ø–æ–º–∏–ª–æ–∫ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

–ü—Ä–∏ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö API –ø–æ–≤–µ—Ä—Ç–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å:

```json
{
  "statusCode": 400,
  "error": "Bad Request",
  "message": [
    "email must be an email",
    "password must be longer than or equal to 8 characters"
  ],
  "errors": {
    "email": ["email must be an email"],
    "password": ["password must be longer than or equal to 8 characters"]
  }
}
```

### –û–±–º–µ–∂–µ–Ω–Ω—è –¥–æ–≤–∂–∏–Ω–∏ –ø–æ–ª—ñ–≤

- –ù–∞–∑–≤–∞ –ø–∞–ø–∫–∏: –º–∞–∫—Å–∏–º—É–º **50 —Å–∏–º–≤–æ–ª—ñ–≤**
- –ù–∞–∑–≤–∞ –∫–æ–ª–æ–¥–∏: –º–∞–∫—Å–∏–º—É–º **50 —Å–∏–º–≤–æ–ª—ñ–≤**
- –¢–µ–∫—Å—Ç –∫–∞—Ä—Ç–∫–∏: –º–∞–∫—Å–∏–º—É–º **100 —Å–∏–º–≤–æ–ª—ñ–≤**
- –û–ø–∏—Å –∫–∞—Ä—Ç–∫–∏: –º–∞–∫—Å–∏–º—É–º **100 —Å–∏–º–≤–æ–ª—ñ–≤**

## Rate Limiting (Throttling)

–°–∏—Å—Ç–µ–º–∞ –º–∞—î –¥–≤–∞ —Ä—ñ–≤–Ω—ñ –æ–±–º–µ–∂–µ–Ω—å –∑–∞–ø–∏—Ç—ñ–≤:

- **Short** - 20 –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ 1 —Å–µ–∫—É–Ω–¥—É (1000 –º—Å)
- **Long** - 100 –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ 1 —Ö–≤–∏–ª–∏–Ω—É (60000 –º—Å)

–û–∫—Ä–µ–º—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –º–æ–∂—É—Ç—å –º–∞—Ç–∏ –ø–æ—Å–∏–ª–µ–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è:

- –õ–æ–≥—ñ–Ω —Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è: –º–∞–∫—Å–∏–º—É–º **5 –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ 30 —Å–µ–∫—É–Ω–¥**

–ü—Ä–∏ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—ñ –ª—ñ–º—ñ—Ç—É –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø–æ–º–∏–ª–∫–∞:

```json
{
  "statusCode": 429,
  "message": "Too many requests. Please try again later."
}
```

## API Endpoints

API –º–∞—î –Ω–∞—Å—Ç—É–ø–Ω—ñ –æ—Å–Ω–æ–≤–Ω—ñ –≥—Ä—É–ø–∏ –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤:

### Authentication (`/auth`)

- `POST /auth/register` - —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `POST /auth/login` - –≤—Ö—ñ–¥ —á–µ—Ä–µ–∑ email/password
- `POST /auth/google` - –≤—Ö—ñ–¥ —á–µ—Ä–µ–∑ Google OAuth
- `POST /auth/logout` - –≤–∏—Ö—ñ–¥ (–¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—É –¥–æ —á–æ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫—É)
- `POST /auth/refresh` - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è access —Ç–æ–∫–µ–Ω—É —á–µ—Ä–µ–∑ refresh token
- `GET /auth/me` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### Dashboard (`/dashboard`)

- `GET /dashboard` - –≥–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –ø–∞–ø–∫–∞–º–∏ —Ç–∞ –∫–æ–ª–æ–¥–∞–º–∏

### Folders (`/folder`)

- `POST /folder/create` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞–ø–∫–∏
- `PATCH /folder/rename` - –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –ø–∞–ø–∫–∏
- `DELETE /folder/delete` - –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø–∞–ø–∫–∏

### Decks (`/deck`)

- `POST /deck/create` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ª–æ–¥–∏
- `GET /deck/:id` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–ª–æ–¥–∏ –∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é
- `PATCH /deck/rename` - –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –∫–æ–ª–æ–¥–∏
- `DELETE /deck/delete` - –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–ª–æ–¥–∏
- `PATCH /deck/move` - –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –∫–æ–ª–æ–¥–∏ –≤ –ø–∞–ø–∫—É
- `GET /deck/start-learning-session` - –ø–æ—á–∞—Ç–æ–∫ —Å–µ—Å—ñ—ó –≤–∏–≤—á–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–∞—Ä—Ç–æ–∫
- `PATCH /deck/finish-learning-session` - –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Å–µ—Å—ñ—ó –≤–∏–≤—á–µ–Ω–Ω—è
- `GET /deck/start-review-session` - –ø–æ—á–∞—Ç–æ–∫ —Å–µ—Å—ñ—ó –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è
- `PATCH /deck/finish-review-card` - –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è –∫–∞—Ä—Ç–∫–∏

### Cards (`/card`)

- `POST /card/create` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ä—Ç–∫–∏
- `GET /card/:id` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–∞—Ä—Ç–∫–∏
- `PATCH /card/update` - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–∞—Ä—Ç–∫–∏
- `DELETE /card/delete` - –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–∞—Ä—Ç–∫–∏

### Languages (`/languages`)

- `GET /languages/all` - —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏—Ö –º–æ–≤ (–∫–µ—à—É—î—Ç—å—Å—è –Ω–∞ 24 –≥–æ–¥–∏–Ω–∏)
- `GET /languages/my` - —Å–ø–∏—Å–æ–∫ –º–æ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### AI (`/ai`)

- `POST /ai/fill-card-data` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–∞—Ä—Ç–∫–∏ —á–µ—Ä–µ–∑ Gemini AI

### Settings (`/settings`)

- `PATCH /settings/set-language` - –∑–º—ñ–Ω–∞ –º–æ–≤–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### Static Files

- `GET /public/tts/*` - –¥–æ—Å—Ç—É–ø –¥–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏—Ö –∞—É–¥—ñ–æ —Ñ–∞–π–ª—ñ–≤ –æ–∑–≤—É—á–∫–∏

## Compile and run the project in dev mode

```bash
# development
$ npm install
$ docker compose up -d
$ npx prisma generate
$ npx prisma migrate dev --name init
$ npm run seed  # –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –ø–æ—á–∞—Ç–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö (–º–æ–≤–∏)
$ npm run dev
```

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Å–∫—Ä–∏–ø—Ç–∏

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—ñ–≤ –±–µ–∑ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó
$ npm run type-check

# –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É
$ npm run format

# –õ—ñ–Ω—Ç–∏–Ω–≥
$ npm run lint

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
$ npm run test
$ npm run test:watch
$ npm run test:cov

# –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –ë–î –ø–æ—á–∞—Ç–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
$ npm run seed
```

## Production build and run

```bash
# –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É
$ npm run build

# –ó–∞–ø—É—Å–∫ –≤ production —Ä–µ–∂–∏–º—ñ
$ npm run start:prod
```

–°–∫–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏ –±—É–¥—É—Ç—å —É –ø–∞–ø—Ü—ñ `dist/`.

## Docker

### Development

–ü—Ä–æ–µ–∫—Ç –º—ñ—Å—Ç–∏—Ç—å `Dockerfile.dev` –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ –∑ hot reload:

```bash
# –£ docker-compose.yml —Ä–æ–∑–∫–æ–º–µ–Ω—Ç—É–π—Ç–µ —Å–µ–∫—Ü—ñ—é backend
$ docker compose up -d
```

Backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç–∏—Å—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ñ–∞–π–ª—ñ–≤ —É –ø–∞–ø—Ü—ñ `src/`.

### –û—Å–Ω–æ–≤–Ω—ñ Docker –∫–æ–º–∞–Ω–¥–∏

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
$ docker compose up -d

# –ó—É–ø–∏–Ω–∫–∞ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
$ docker compose down

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
$ docker compose logs -f

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É
$ docker compose logs -f db
$ docker compose logs -f redis

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—É
$ docker compose restart db
```

## –í–∞–∂–ª–∏–≤—ñ –ø—Ä–∏–º—ñ—Ç–∫–∏

### –ë–µ–∑–ø–µ–∫–∞

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û**: –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ—î–º —É production:

1. –ó–º—ñ–Ω—ñ—Ç—å –≤—Å—ñ —Å–µ–∫—Ä–µ—Ç–Ω—ñ –∫–ª—é—á—ñ (`JWT_SECRET`, `JWT_REFRESH_SECRET`, `PASSWORD_SECRET`)
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∏–ª—å–Ω—ñ –ø–∞—Ä–æ–ª—ñ –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ CORS –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É —Ç—ñ–ª—å–∫–∏ –∑ –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö –¥–æ–º–µ–Ω—ñ–≤
4. –†–æ–∑–≥–ª—è–Ω—å—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è HTTPS
5. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è rate limiting –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±

### –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É –ø—ñ–¥—Ç—Ä–∏–º—É—î –ª–µ–≥–∫–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è:

- –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –º–æ–¥—É–ª—ñ–≤ —á–µ—Ä–µ–∑ NestJS CLI: `nest generate module module-name`
- Prisma –º—ñ–≥—Ä–∞—Ü—ñ—ó –¥–ª—è –∑–º—ñ–Ω –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ –ë–î: `npx prisma migrate dev --name migration-name`
- Swagger –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –Ω–æ–≤–∏—Ö –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ –∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏

## –î–æ—Å—Ç—É–ø–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏

### API —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **Swagger UI**: http://localhost:4000/api
- **Swagger JSON**: http://localhost:4000/api-json
- **Swagger YAML**: http://localhost:4000/api-yaml
- **Static files (TTS audio)**: http://localhost:4000/public/tts/\*

### –ë–∞–∑–∏ –¥–∞–Ω–∏—Ö —Ç–∞ —Å–µ—Ä–≤—ñ—Å–∏

- **PostgreSQL**: localhost:5433
  - Database: `lexora`
  - User: `admin`
  - Password: `1234`
- **pgAdmin**: http://localhost:5050
  - Email: `admin@lexora.com`
  - Password: `admin123`
- **Redis**: localhost:6379

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
lexora_api/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ ai/              # AI —Å–µ—Ä–≤—ñ—Å–∏ (Gemini)
‚îÇ   ‚îú‚îÄ‚îÄ auth/            # –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ card/            # –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞—Ä—Ç–∫–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/       # –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ database/        # Prisma —Å–µ—Ä–≤—ñ—Å
‚îÇ   ‚îú‚îÄ‚îÄ deck/            # –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–ª–æ–¥–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ folder/          # –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–ø–∫–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ languages/       # –ú–æ–≤–∏
‚îÇ   ‚îú‚îÄ‚îÄ redis/           # Redis —Å–µ—Ä–≤—ñ—Å
‚îÇ   ‚îú‚îÄ‚îÄ settings/        # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îÇ   ‚îú‚îÄ‚îÄ tts/             # Text-to-Speech —Å–µ—Ä–≤—ñ—Å
‚îÇ   ‚îú‚îÄ‚îÄ vertex/          # Google Vertex AI
‚îÇ   ‚îú‚îÄ‚îÄ common/          # –°–ø—ñ–ª—å–Ω—ñ —É—Ç–∏–ª—ñ—Ç–∏, guards, decorators
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.ts    # –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ seeds/       # Seed —Å–∫—Ä–∏–ø—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ guards/      # Custom guards
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ decorators/  # Custom decorators
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types/       # TypeScript —Ç–∏–ø–∏
‚îÇ   ‚îú‚îÄ‚îÄ app.module.ts    # –ì–æ–ª–æ–≤–Ω–∏–π –º–æ–¥—É–ª—å
‚îÇ   ‚îî‚îÄ‚îÄ main.ts          # Entry point
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma    # –°—Ö–µ–º–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îî‚îÄ‚îÄ migrations/      # –ú—ñ–≥—Ä–∞—Ü—ñ—ó –ë–î
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ tts/             # –ö–µ—à–æ–≤–∞–Ω—ñ –∞—É–¥—ñ–æ —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ keys/                # –ö–ª—é—á—ñ Google Cloud (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ docker-compose.yml   # Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ Dockerfile.dev       # Dockerfile –¥–ª—è development
‚îî‚îÄ‚îÄ .env                 # –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è (–Ω–µ –≤ git)
```
